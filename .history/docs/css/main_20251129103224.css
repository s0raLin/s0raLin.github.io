@import url("https://fonts.googleapis.com/css?family=Roboto+Mono|Source+Sans+Pro:300,400,600");

/* 全局重置和基础设置 */
*{-webkit-font-smoothing:antialiased;-webkit-overflow-scrolling:touch;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:none;-webkit-touch-callout:none;box-sizing:border-box}

/* --- 核心主题颜色变量 (内敛科技/深空配色) --- */
:root {
  --theme-color: #99aaff; /* 柔和的淡蓝色/紫色 - 主要强调色 (如：信息/链接) */
  --highlight-color: #f7b731; /* 浅金色/琥珀色 - 次要强调色 (如：标题/警告) */
  --background-color: #121212; /* 极深黑背景，基底 */
  --secondary-background: #1e1e1e; /* 稍浅的黑色，用于组件背景 */
  --text-color: #e0e0e0; /* 亮白/浅灰，主文本色 */
  --secondary-text-color: #a0a0a0; /* 次要文本颜色 */
  --border-color: #333333; /* 深边框，用于分隔 */
}

body:not(.ready){overflow:hidden}
body:not(.ready) .app-nav,body:not(.ready)>nav,body:not(.ready) [data-cloak]{display:none}
div#app{
  font-size:30px;
  font-weight:lighter;
  margin:40vh auto;
  text-align:center;
  color: var(--theme-color);
  text-shadow: 0 0 3px var(--theme-color); /* 轻微发光 */
}
div#app:empty:before{content:"Loading..."}
img.emoji{height:1.2em}
img.emoji,span.emoji{vertical-align:middle}
span.emoji{font-family:Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:1.2em}

/* --- 进度条 (Progress Bar) --- */
.progress{
  background-color: var(--theme-color);
  height:4px;
  left:0;
  position:fixed;
  right:0;
  top:0;
  transition:width .2s,opacity .4s;
  width:0;
  z-index:999999;
  box-shadow: 0 0 3px var(--theme-color); /* 轻微发光 */
}

/* --- 搜索结果高亮 (Search) --- */
.search .search-keyword,.search a:hover{
  color: var(--highlight-color);
  text-shadow: 0 0 2px var(--highlight-color);
}
.search .search-keyword{font-style:normal;font-weight:700}

/* --- 主体背景和字体 --- */
body,html{height:100%}
body{
  -moz-osx-font-smoothing:grayscale;
  -webkit-font-smoothing:antialiased;
  color: var(--text-color);
  background-color: var(--background-color);
  font-family: Roboto Mono, Source Sans Pro, Helvetica Neue, Arial, sans-serif;
  font-size:15px;
  letter-spacing:0.03em; /* 减小间距 */
  margin:0;
  overflow-x:hidden
}
img{max-width:100%}
a[disabled]{cursor:not-allowed;opacity:.6}
kbd{
  border:1px solid var(--border-color);
  border-radius:3px;
  background-color: var(--secondary-background);
  /* 立体阴影使用深色，模拟组件层次感 */
  box-shadow: 2px 2px 0 #000;
}
li input[type=checkbox]{margin:0 .2em .25em 0;vertical-align:middle}

/* --- 顶部导航栏 (App Nav) --- */
.app-nav a{
  color: inherit;
  transition:color .3s, text-shadow .3s;
}
.app-nav a.active, .app-nav a:hover{
  color: var(--theme-color);
  text-shadow: 0 0 3px rgba(153, 170, 255, 0.5); /* 柔和发光 */
}
.app-nav a.active{
  border-bottom:2px solid var(--theme-color);
}
/* 下拉菜单 */
.app-nav li ul{
  background-color: var(--secondary-background);
  border:1px solid var(--border-color);
  /* 柔和的立体感 */
  box-shadow: 4px 4px 0 #000;
}

/* --- GitHub Corner (保留主题色) --- */
.github-corner svg{
  fill: var(--theme-color);
}

/* --- 侧边栏 (Sidebar) --- */
.sidebar{
  background-color: var(--secondary-background); /* 略浅的黑色背景 */
  border-right:1px solid var(--border-color);
  color: var(--secondary-text-color);
}
.sidebar>h1{
  color: var(--highlight-color);
  text-shadow: 0 0 3px var(--highlight-color);
}
.sidebar ul li a:hover{
  color: var(--theme-color);
}
.sidebar ul li.active>a{
  border-right:4px solid var(--theme-color);
  color: var(--theme-color);
  font-weight:600;
  text-shadow: 0 0 2px rgba(153, 170, 255, 0.5);
}
.app-sub-sidebar li:before{content:"▶";padding-right:4px;float:left;color: var(--highlight-color);}

/* --- 侧边栏切换按钮 (Sidebar Toggle) --- */
.sidebar-toggle{
  background-color: var(--secondary-background);
  border-top: 1px solid var(--border-color);
}
.sidebar-toggle span{
  background-color: var(--theme-color);
}

/* --- Markdown 内容区 --- */
.markdown-section hr{border-bottom:1px solid var(--border-color)}

/* --- 表格 (Table) --- */
.markdown-section table{
  box-shadow: 4px 4px 0 #000; /* 立体感 */
  border: 1px solid var(--border-color);
}
.markdown-section th{
  background-color: #2a2a2a;
  color: var(--highlight-color);
}
.markdown-section td,.markdown-section th{
  border:1px solid var(--border-color);
}
.markdown-section tr:nth-child(2n){background-color:#222}

/* --- 提示框 (Tip Box) --- */
.markdown-section p.tip{
  background-color: #22222a; /* 深蓝色/紫色背景 */
  border-left:4px solid var(--theme-color);
  box-shadow: 4px 4px 0 #0a0a0a; /* 立体感 */
}
.markdown-section p.tip:before{
  background-color: var(--theme-color);
  color: var(--secondary-background);
  box-shadow: 0 0 3px var(--theme-color);
}
.markdown-section p.tip em{color: var(--highlight-color)}

/* --- 警告框 (Warn Box) --- */
.markdown-section p.warn{
  background:rgba(247, 183, 49, .1); /* 琥珀色半透明背景 */
  border: 1px dashed var(--highlight-color);
  box-shadow: -4px -4px 0 #0a0a0a;
}

/* --- 标题和链接 (Headings and Links) --- */
.markdown-section h1,.markdown-section h2,.markdown-section h3,.markdown-section h4,.markdown-section strong{
  color: var(--highlight-color);
  /* 立体阴影使用深色，更沉稳 */
  text-shadow: 1px 1px 0 #000; 
}
.markdown-section a{
  color: var(--theme-color);
}
.markdown-section a:hover {
    color: var(--highlight-color);
    text-shadow: 0 0 1px var(--highlight-color);
}
.markdown-section h2{border-bottom: 1px solid var(--border-color);}

/* --- 引用块 (Blockquote) --- */
.markdown-section blockquote{
  border-left:4px solid var(--highlight-color);
  background-color: #1e1e1e;
  box-shadow: 3px 3px 0 #0a0a0a;
}
.markdown-section em{color: var(--highlight-color); font-style: normal;}

/* --- 代码块 (Code and Pre) --- */
.markdown-section code,.markdown-section pre{
  background-color: #0a0a0a; 
  border: 1px solid var(--border-color);
}
.markdown-section code{
  color: var(--highlight-color);
  background-color: #222;
  box-shadow: 1px 1px 0 #000;
}
.markdown-section pre{
  /* 柔和的立体感 */
  box-shadow: 4px 4px 0 #000;
}
.markdown-section pre>code{
  color: var(--text-color);
}
.markdown-section output:after,.markdown-section pre:after{
  color: var(--theme-color);
  text-shadow: none;
}

/* --- PrismJS 语法高亮配色 (Token Colors) --- */
.token.boolean,.token.number{color: var(--theme-color)}
.token.property{color: var(--highlight-color)}
.token.tag{color: var(--theme-color)}
.token.string{color: #79ff79} /* 保留亮绿色，用于字符串，易读 */
.token.function,.token.keyword{color: var(--highlight-color)}
.token.attr-value,.token.control,.token.directive,.token.unit{color: #99aaff}
.token.important{color: var(--highlight-color)}

/* --- Cover Section (封面) --- */
section.cover.has-mask .mask{background-color: var(--background-color);opacity:.95;}
section.cover h1{
  color: var(--highlight-color);
  /* 标题立体感更内敛 */
  text-shadow: 0 0 5px rgba(247, 183, 49, 0.5), 3px 3px 0 #000;
}
section.cover blockquote{
  color: var(--theme-color);
  text-shadow: 0 0 3px rgba(153, 170, 255, 0.5);
}
section.cover .cover-main>p:last-child a{
  border:2px solid var(--theme-color);
  color: var(--theme-color);
  box-shadow: 3px 3px 0 #0a0a0a;
}
section.cover .cover-main>p:last-child a:last-child{
  background-color: var(--theme-color);
  color: var(--background-color);
  box-shadow: 3px 3px 0 #0a0a0a;
}
section.cover .cover-main>p:last-child a:last-child:hover{
  color: var(--background-color);
  box-shadow: 5px 5px 0 #0a0a0a, 0 0 5px var(--theme-color);
}
section.cover .cover-main>p:last-child a:hover{
  color: var(--highlight-color);
  border-color: var(--highlight-color);
  box-shadow: 5px 5px 0 #0a0a0a;
}